import{scrollBack}from"./scrollToTop.js";import{pageDown}from"./pageDown.js";import{skipToSection}from"./skipToSection.js";import{endLoading}from"./loadingScreen.js";import{stateOnScroll}from"./stateOnScroll.js";window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".mobile-button"),o=document.querySelector(".mobileMenu"),t=document.querySelector(".back-button"),n=document.querySelector(".button"),i=document.querySelector(".nav"),c=document.querySelectorAll(".menu__item"),l=document.querySelectorAll(".list__item");e.addEventListener("click",function(){e.classList.toggle("mobile-button--active"),o.classList.toggle("mobileMenu--active")}),t.addEventListener("click",scrollBack),window.addEventListener("scroll",_.debounce(function(){window.scrollY>=window.innerHeight?(t.style.display="flex",t.style.opacity="1"):(t.style.display="none",t.style.opacity="0")},50)),window.addEventListener("scroll",_.debounce(function(){i.offsetTop,window.scrollY>=i.offsetTop&&i.classList.add("nav--active"),window.scrollY<=window.innerHeight&&i.classList.remove("nav--active")},10)),window.addEventListener("scroll",_.debounce(stateOnScroll,20)),n.addEventListener("click",pageDown),c.forEach(e=>e.addEventListener("click",skipToSection)),l.forEach(e=>e.addEventListener("click",skipToSection)),window.addEventListener("load",endLoading)});export function endLoading(){const e=document.querySelector("body"),o=document.querySelector(".loading-screen"),t=document.querySelectorAll(".hello__intro"),n=document.querySelector(".button");e.classList.remove("loading");o.addEventListener("transitionend",()=>{0==o.style.backgroundColor&&(o.style.display="none",t.forEach(e=>e.classList.add("hello__intro--active")),setTimeout(()=>n.classList.add("button--active"),700))})};export function pageDown(){window.scroll({top:window.innerHeight+3,behavior:"smooth"})};export function scrollBack(){window.scroll({top:0,behavior:"smooth"})};export function skipToSection(e){const o=document.querySelector(".projects"),t=document.querySelector(".about"),n=document.querySelector(".header"),i=document.querySelector(".contact");if("projects"===this.dataset.nav?o.scrollIntoView({behavior:"smooth",block:"start"}):"about"===this.dataset.nav?t.scrollIntoView({behavior:"smooth",block:"start"}):"header"===this.dataset.nav?n.scrollIntoView({behavior:"smooth",block:"start"}):"contact"===this.dataset.nav&&i.scrollIntoView({behavior:"smooth",block:"start"}),"list__item"===this.className){const e=document.querySelector(".mobile-button"),o=document.querySelector(".mobileMenu");e.classList.toggle("mobile-button--active"),o.classList.toggle("mobileMenu--active")}};export function stateOnScroll(){const e=document.querySelectorAll(".title"),o=document.querySelectorAll(".project");e.forEach(e=>{const t=window.scrollY+window.innerHeight-e.getBoundingClientRect().height/2,n=e.offsetTop+e.getBoundingClientRect().height,i=t>n,c=window.scrollY<n;i&&c&&e.classList.add("title--active"),o.forEach(e=>{const o=window.scrollY+window.innerHeight-e.getBoundingClientRect().height/2,t=e.offsetTop+e.getBoundingClientRect().height,n=o>t,i=window.scrollY<t;console.log(window.scrollY,{itemBottom:t}),n&&i&&e.classList.add("project--active")})})};